# Generated by Django 4.2.5 on 2023-10-05 00:00

from django.db import migrations, models
import pgvector.django


class Migration(migrations.Migration):
    dependencies = [
        ("database", "0010_alter_embeddings_compiled_alter_embeddings_file_type_and_more"),
    ]

    operations = [
        migrations.RemoveIndex(
            model_name="embeddings",
            name="embeddings_idx",
        ),
        migrations.AlterField(
            model_name="embeddings",
            name="file_type",
            field=models.CharField(
                choices=[
                    ("image", "Image"),
                    ("pdf", "Pdf"),
                    ("plaintext", "Plaintext"),
                    ("markdown", "Markdown"),
                    ("org", "Org"),
                    ("notion", "Notion"),
                    ("github", "Github"),
                    ("conversation", "Conversation"),
                ],
                default="plaintext",
                max_length=30,
            ),
        ),
        migrations.AddIndex(
            model_name="embeddings",
            index=pgvector.django.IvfflatIndex(
                fields=["embeddings"], lists=512, name="embeddings_idx", opclasses=["vector_cosine_ops"]
            ),
        ),
    ]
